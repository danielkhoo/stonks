(this.webpackJsonpstonks=this.webpackJsonpstonks||[]).push([[0],{17:function(e,t,a){e.exports=a(41)},22:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(14),l=a.n(r),s=(a(22),a(4)),o=a(2),i=a(3),m=a.n(i),u=a(16);var d=function(e){var t=e.data,a=t.ticker,n=t.price,r=t.qty,l=t.fx,s=t.cost,i=Math.round(n*r*l),m=Math.round(n*r*l-s);return c.a.createElement("div",{className:"entry-row"},c.a.createElement("div",{className:"entry-btn-col"},c.a.createElement("button",{className:"entry-btn",onClick:function(){return e.onDelete(e.index)}},"-")),c.a.createElement("div",{className:"entry-col"},c.a.createElement("input",{className:"entry-input",onChange:function(t){return e.onEdit(e.index,Object(o.a)({},e.data,{ticker:t.target.value}))},value:a})),c.a.createElement("div",{className:"entry-col"},c.a.createElement("input",{className:"entry-input bold",onChange:function(t){return e.onEdit(e.index,Object(o.a)({},e.data,{price:t.target.value}))},value:n})),c.a.createElement("div",{className:"entry-col"},c.a.createElement("input",{className:"entry-input",onChange:function(t){return e.onEdit(e.index,Object(o.a)({},e.data,{qty:t.target.value}))},value:r})),c.a.createElement("div",{className:"entry-col"},c.a.createElement("input",{className:"entry-input",onChange:function(t){return e.onEdit(e.index,Object(o.a)({},e.data,{fx:t.target.value}))},value:l})),c.a.createElement("div",{className:"entry-col"},i),c.a.createElement("div",{className:"entry-col"},c.a.createElement("input",{className:"entry-input",onChange:function(t){return e.onEdit(e.index,Object(o.a)({},e.data,{cost:t.target.value}))},value:s})),c.a.createElement("div",{className:m<0?"entry-col-2 loss":"entry-col-2 gain"},m+"("+(100*m/s).toFixed(2)+"%)"))},v=a(15),y=a.n(v);var E=function(){var e=Object(n.useRef)(),t=Object(n.useState)([]),a=Object(u.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){i()}),[]);var i=function(){var e,t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=localStorage.getItem("key"),n.next=3,m.a.awrap(y.a.get("https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=".concat(e,"&apikey=").concat(t)));case 3:return a=n.sent,n.abrupt("return",+a.data["Global Quote"]["05. price"]);case 5:case"end":return n.stop()}}))},!((t=JSON.parse(localStorage.getItem("data")))&&t.length>0)){n.next=7;break}return n.next=5,m.a.awrap(Promise.all(t.map((function(t){var a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.awrap(e(t.ticker).catch((function(){return t.price})));case 2:return a=n.sent,n.abrupt("return",Object(o.a)({},t,{price:a}));case 4:case"end":return n.stop()}}))}))));case 5:a=n.sent,l(a);case 7:case"end":return n.stop()}}))},v=function(e,t){var a=Object(s.a)(r);a[e]=t,l(a),localStorage.setItem("data",JSON.stringify(a))},E=function(e){var t=[].concat(Object(s.a)(r.slice(0,e)),Object(s.a)(r.slice(e+1)));l(t),localStorage.setItem("data",JSON.stringify(t))},p=r.length>0?r.map((function(e){return Math.round(e.price*e.qty*e.fx)})).reduce((function(e,t){return e+t})):0,N=r.length>0?r.map((function(e){return+e.cost})).reduce((function(e,t){return e+t})):0,f=r.length>0?r.map((function(e){return Math.round(e.price*e.qty*e.fx-e.cost)})).reduce((function(e,t){return e+t})):0;return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"Header"},c.a.createElement("h1",null,"STONKS"),c.a.createElement("div",null,c.a.createElement("input",{ref:e}),c.a.createElement("button",{onClick:function(t){console.log(e.current.value),localStorage.setItem("key",e.current.value),e.current.value=""}},"Save")),c.a.createElement("img",{id:"meme",src:""+"/".concat(f<0?"notStonks.jpg":"stonks.png"),width:"400px"})),c.a.createElement("main",null,c.a.createElement("div",{className:"entry-row"},c.a.createElement("div",{className:"entry-btn-col"}),c.a.createElement("div",{className:"entry-col"},"Ticker"),c.a.createElement("div",{className:"entry-col"},"Price"),c.a.createElement("div",{className:"entry-col"},"Qty"),c.a.createElement("div",{className:"entry-col"},"FX"),c.a.createElement("div",{className:"entry-col"},"Value"),c.a.createElement("div",{className:"entry-col"},"Cost"),c.a.createElement("div",{className:"entry-col-2"},"Profit")),r.length>0&&r.map((function(e,t){return c.a.createElement(d,{index:t,data:e,onEdit:v,onDelete:E,key:t})})),c.a.createElement("div",{className:"entry-row"},c.a.createElement("div",{className:"entry-btn-col"}),c.a.createElement("div",{className:"entry-col"}),c.a.createElement("div",{className:"entry-col"}),c.a.createElement("div",{className:"entry-col"}),c.a.createElement("div",{className:"entry-col"},c.a.createElement("button",{className:"entry-btn",onClick:function(){console.log(r),l([].concat(Object(s.a)(r),[{}]))}},"Add ticker")),c.a.createElement("div",{className:"entry-col"}),c.a.createElement("div",{className:"entry-col"}),c.a.createElement("div",{className:"entry-col-2"})),c.a.createElement("div",{className:"entry-row"},c.a.createElement("div",{className:"entry-btn-col"}),c.a.createElement("div",{className:"entry-col"}),c.a.createElement("div",{className:"entry-col"}),c.a.createElement("div",{className:"entry-col"}),c.a.createElement("div",{className:"entry-col"}),c.a.createElement("div",{className:"entry-col"},p),c.a.createElement("div",{className:"entry-col"},N),c.a.createElement("div",{className:f<0?"entry-col-2 loss":"entry-col-2 gain"},f+"("+(100*f/N).toFixed(2)+"%)"))))};l.a.render(c.a.createElement(E,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.e021b775.chunk.js.map